---
import { join } from 'node:path'

import { TITLES } from '../js/config'
import { loadImages } from '../js/photos'
import PhotosPage from '../js/components/page/Photos'
import PageLayout from '../layouts/default.astro'

const images = await loadImages(join(process.cwd(), 'public/static/photos'))

const baseURL = import.meta.env.PUBLIC_BASE_PHOTOS_URL
---

<PageLayout title={TITLES.PHOTOS}>
  {baseURL && (
    <link rel="preconnect" href={baseURL} slot="head" />
  )}

  <PhotosPage images={images} client:load="preact" />
</PageLayout>
